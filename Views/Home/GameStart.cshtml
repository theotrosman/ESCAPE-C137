@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>ESCAPE ROOM - FASE DE DEBUG</title>
    <link rel="stylesheet" href="~/css/site.css" />
    <style>
        body {
            background-color: black;
            color: #00ff00;
            font-family: monospace;
            overflow: hidden;
            padding: 30px;
        }

        .glitch {
            animation: glitchText 0.2s infinite;
        }

        @@keyframes glitchText {
            0% { text-shadow: 1px 0 red, -1px 0 blue; }
            50% { text-shadow: -1px 0 red, 1px 0 blue; }
            100% { text-shadow: 1px 0 red, -1px 0 blue; }
        }

        #acertijo {
            display: none;
            margin-top: 20px;
        }

        input {
            background: black;
            border: none;
            border-bottom: 1px solid #00ff00;
            color: #00ff00;
            font-family: monospace;
            font-size: 16px;
            width: 300px;
        }

        a {
            color: #00ffff;
        }
    </style>
</head>
<body>
    <div id="pantalla">
        <pre id="glitch-lines" class="glitch">
███████████████████████████████████████████████████
█ GLITCH DETECTADO EN LA REALIDAD MVC-C137 █
███████████████████████████████████████████████████
</pre>

        <audio id="rick" src="~/img/audio3.mp3" preload="auto" autoplay></audio>

        <div id="acertijo">
            <p>
                Rick: "Morty, el código fuente del escape está roto... lo subí a GitHub pero algo salió mal."
            </p>
            <p>
                Tenés que encontrar la función que está mal implementada en este archivo:
                <br>
                <a href="https://github.com/theotrosman/BuggyLogic/blob/main/BuggyLogic.cs" target="_blank">
                    github.com/theotrosman/BuggyLogic/blob/main/BuggyLogic.cs
                </a>
            </p>
            <p>
                Enviá la respuesta exacta: ¿Qué línea del archivo tiene el bug?
            </p>
            <input type="text" id="respuesta" placeholder="ej: línea 8" onkeydown="verificar(event)" />
            <p id="feedback"></p>
        </div>
    </div>

    <script>
        setTimeout(() => {
            document.getElementById("glitch-lines").style.display = "none";
            document.getElementById("acertijo").style.display = "block";
        }, 3000);

        function verificar(e) {
    if (e.key === "Enter") {
        const raw = document.getElementById("respuesta").value.trim().toLowerCase();
        const r = raw.normalize("NFD").replace(/[\u0300-\u036f]/g, ""); // quita tildes
        const feedback = document.getElementById("feedback");

        if (r === "linea 15" || r === "line 15" || r === "15") {
            feedback.innerText = "✔️ ¡Correcto, Morty! Portal desbloqueado...";
            setTimeout(() => window.location.href = "/Home/Room2", 2500);
        } else {
            feedback.innerText = "❌ Esa no es la línea... el bug sigue ahí.";
        }
    }
}
    </script>
</body>
</html>
